---
title: JavaScript正则总结
categories:
    - JavaScript
    - 杂七杂八
abbrlink: 2f57a694
date: 2019-07-29 20:48:35
---

# 常用元字符概述

| 元字符 | 描述 |
| :-: | :-: |
| `^` | 匹配字符串的起始位置。如果多行标志被设置为`true`，那么也匹配换行符后紧跟的位置。 |
| `$` | 匹配字符串的结束位置。如果多行标志被设置为`true`，那么也匹配换行符前的位置。 |
| `\b` | 匹配一个词的起始或结束位置。<br>例如，`\bm`匹配`moon`中的`m`，而`oo\b`并不匹配`moon`中的`oo`。|
| `\B` | 匹配组成一个词的各个字符的中间位置。<br>例如，`\B..`匹配`noonday`中的`oo`，而`y\B..`匹配`possibly yesterday`中的`yes`。 |
| `\` | 将元字符转义为字面量。例如，如果想在字符串中匹配`^`，那么可以使用`\^`。 |
| `{n}` | 匹配前一个表达式`n`次。`n`必须为正整数。 |
| `{n,}` | 至少匹配前一个表达式`n`次。`n`必须为正整数。 |
| `{n,m}` | 匹配前一个表达式`n`次到`m`次之间（包括`n`和`m`）。`n`和`m`必须为正整数，且`n < m`。 |
| `*` | 匹配前一个表达式0次或多次，等价于`{0,}`。 |
| `+` | 匹配前一个表达式1次或多次，等价于`{1,}`。 |
| `?` | 匹配前一个表达式0次或1次，等价于`{0,1}`。 |
| `.` | 匹配除换行符之外的任意单个字符。 |
| `(xyz)` | 匹配`xyz`并记住匹配项，括号内的内容被称为**捕获组**。<br>例如，`(foo)(bar)\1\2`等价于`foobarfoobar`。 |
| `(?:xyz)` | 匹配`xyz`但不记住匹配项。 |
| `x(?=y)` | 当且仅当`x`后面紧跟着`y`时，匹配`x`。这叫做**先行断言**。 |
| `x(?!=y)` | 当且仅当`x`后面没有紧跟着`y`时，匹配`x`。这叫做**正向否定查找**。 |
| `(?<=y)x` | 当且仅当`x`前面就是`y`时，匹配`x`。这叫做**后行断言**。 |
| `(?<!y)x` | 当且仅当`x`前面不是`y`时，匹配`x`。这叫做**反向否定查找**。 |
| <code>x &#124; y</code> | 匹配`x`或`y`。 |
| `[xyz]` | 匹配一个出现在方括号中的字符。**在方括号内部，你可以使用破折号`-`来指定一个范围**。<br>例如，`[a-z]`代表匹配一个小写字母。 |
| `[^xyz]` | 匹配一个没有出现在方括号中的字符。**在方括号内部，你可以使用破折号`-`来指定一个范围**。<br>例如，`[^a-z]`代表匹配一个小写字母以外的其他字符。 |
| `[\b]` | 匹配一个退格。 |
| `\cX` | 当`X`是处于`A-Z`之间的字符时，匹配字符串中的一个控制字符。<br>例如，`\cM`匹配字符串中的`control-M`。 |
| `\d` | 匹配一个数字字符。 |
| `\D` | 匹配一个非数字字符。 |
| `\f` | 匹配一个换页符。 |
| `\n` | 匹配一个换行符。 |
| `\r` | 匹配一个回车符。 |
| `\s` | 匹配一个空白符，包括空格、制表符、换页符和换行符。 |
| `\S` | 匹配一个非空白字符。 |
| `\t` | 匹配一个水平制表符。 |
| `\v` | 匹配一个垂直制表符。 |
| `\w` | 匹配一个单子字符（字母、数字或者下划线）。等价于`[A-Za-z0-9_]`。 |
| `\W` | 匹配一个非单子字符。等价于`[^A-Za-z0-9_]`。 |
| `\number` | 正数代表第`number`个捕获组。<br>例如，`apple(,)\sorange\1`匹配`apple, orange, cherry`中的`apple, orange,`。 |

# 贪婪/非贪婪匹配

参考自[**【正则表达式系列】贪婪与非贪婪模式**](https://dailc.github.io/2017/07/06/regularExpressionGreedyAndLazy.html)

{% note info %}
- **贪婪匹配**
    - **定义**：会尽量多的匹配符合条件的内容。
    - **元字符**：`+`、`?`、`*`、`{n}`、`{n,}`、`{n,m}`。
- **非贪婪匹配**
    - **定义**：会尽量少的匹配符合条件的内容，一旦发现符合规则的内容就立刻终止匹配。
    - **元字符**：`+?`、`??`、`*?`、`{n}?`、`{n,}?`、`{n,m}?`。
{% endnote %}

```js
let str = 'aacbacbc'

console.log(str.match(/.*b/)[0])   // aacbacb
console.log(str.match(/.*?b/)[0])  // aacb

console.log(str.match(/.?b/)[0])   // cb
console.log(str.match(/.??b/)[0])  // cb

console.log(str.match(/.+b/)[0])   // aacbacb
console.log(str.match(/.+?b/)[0])  // aacb
```


