---
title: 位运算
categories:
    - 操作系统
abbrlink: 2633a26
date: 2019-08-22 15:15:33
---

# 非 ~

`~x === -(x+1)`

```js
let num = 25;
console.log(~num);  // -26
```

# 与 &

`x&1 === x%2`

```js
console.log(5&1);   // 1
console.log(5%2);   // 1
```

# 或 |

假设一个文件有读、写、删除三种权限。可以使用一个数值来记录权限，这个数值的二进制有 3 位。第 1 位代表是否有读权限，第 2 位代表是否有写权限，第 3 位代表是否有删除权限。

{% note info %}
- 数值`1`，对应二进制`001`，代表拥有读权限。
- 数值`2`，对应二进制`010`，代表拥有写权限。
- 数值`3`，对应二进制`011`，代表拥有读、写权限。
- 数值`4`，对应二进制`100`，代表拥有删除权限。
- 数值`5`，对应二进制`101`，代表拥有读、删除权限。
- 数值`6`，对应二进制`110`，代表拥有写、删除权限。
- 数值`7`，对应二进制`111`，代表拥有读、写、删除权限。
{% endnote %}

# 异或 ^

异或的逆运算也是异或，所以对于任意数 x 和 y，有`x === x^y^y`和`y = y^x^x`。下面的例子是交换两个变量上保存的数值。

```js
let x = 12,
    y = 66;

x ^= y;
y ^= x;
x ^= y;
console.log(x)  // 66
console.log(y)  // 12
```
