---
title: 第三章 基本概念
categories:
    - JavaScript
    - 《JavaScript高级程序设计》
abbrlink: 2c31c1a2
date: 2019-03-01 15:49:01
---

# 变量

ECMAScript的变量是松散类型的，可以用来保存任何类型的数据，换句话说，变量只是一个用于保存值得占位符而已，变量没有类型，数据才有类型！

{% note info %}
- 使用var声明变量，变量为声明该变量的作用域中的局部变量。即在全局作用域中声明的变量为全局变量，在局部作用域中声明的变量为局部变量；
- 使用var声明的变量如果未初始化，则变量保存的值默认为`undefined`；
- 对没有声明的变量直接进行赋值操作（或者说是LHS操作），在非严格模式下，会创建一个全局变量。但是在严格模式下，会抛出错误。
{% endnote %}

# 数据类型

JavaScript的数据类型分为“基本数据类型”和“引用数据类型”两种。

{% note info %}
- **基本数据类型**：Undefined、Null、Boolean、Number、String和Symbol（ES6提出）；
- **引用数据类型**：Object。
{% endnote %}

## typeof操作符

对一个值使用typeof操作符，可能返回下列某个字符串（均为英文单词小写形式）：

{% note info %}
- "undefined"——————————如果这个值未定义；
- "boolean"———————————如果这个值是布尔值；
- "string"————————————如果这个值是字符串；
- "number"———————————如果这个值是数值；
- "symbol"———————————如果这个值是符号；
- "function"———————————如果这个值是函数（其实函数属于对象的一种）；
- "object"————————————如果这个值是对象或null。
{% endnote %}

## Undefined

Undefined类型只有一个值，即特殊的undefined。在使用var声明变量但未对其加以初始化时，这个变量的值就是undefined。对未初始化的变量执行typeof操作会返回undefined值，而对未声明的变量执行typeof操作同样会返回undefined值。

除了可以对未声明的变量执行typeof操作之外，在非严格模式下还可以对其进行delete操作。除了这两种情况之外，对未声明的变量进行任何其他操作，都会抛出错误。

## Null

Null类型也只有一个值————null。

```js
typeof null === 'object'    // true
null instanceof Object      // false
null == undefined           // true
Boolean(null) === false     // true
Boolean([]) === true        // true
Boolean({}) === true        // true
```

## Boolean

Boolean类型的字面值true和false是区分大小写的。也就是说，True和False都不是Boolean值，只是标识符。

## Number

{% note info %}
- 八进制字面量在严格模式下是无效的，会导致支持的JavaScript引擎抛出错误；
- 浮点数值的最高精度是17位小数，但在进行算术计算时其精确度远远不如整数；
- 可以使用`isFinite()`函数来确定数值是否为无穷；
- `NaN`与自身都不相等，可以使用`isNaN()`或`Number.isNaN()`确定数值是否为`NaN`。在传入数据非数值时，`isNaN()`会首先调用`Number()`将其转换为数值类型再进行判断，而`Number.isNaN()`则会直接返回`false`；
- `Number()`用于把任何类型数据转换为数值；
- `parseInt()`和`parseFloat()`用于把字符串转换为数值；
- `parseInt()`在转换字符串时比`Number()`好用，但是最好为`parseInt()`提供第二个参数（转换的基数2、8、10、16）。
{% endnote %}

## String

{% note info %}
- 任何字符串的长度都可以通过访问其`length`属性取得，包含双子节字符的可能不准确；
- 字符串是不可变的，一旦创建就不能改变，要改变某个变量保存的字符串，首先要销毁原来的字符串然后再用新的替代；
- 数值、布尔值、对象和字符串值都有`toString()`方法，并且数值的`toString()`方法可以接收一个参数（数值的基数），但是null和undefined没有；
- 在不知道要转换值的类型时，可以使用`String()`方法。
{% endnote %}

## Object

**ECMAScript中的对象其实就是一组数据和功能的集合，它的属性或方法是没有顺序之分的！！！**

Object类型是所有它的实例的基础，它所具有的任何属性和方法也同样存在于更具体的对象中。Object的每个实例都具有下列属性和方法：

{% note info %}
- constructor
- hasOwnProperty(propertyName)
- isPrototypeOf(object)
- propertyIsEnumerable(propertyName)
- toLocaleString()
- toString()
- valueOf()
{% endnote %}

# 语句

## for-in语句

ECMAScript对象的属性没有顺序。因此，通过`for-in`循环输出的属性名的顺序是不可预测的。

`for-in`不能对`null`和`undefined`进行迭代。

## switch语句

可以在switch语句中使用任何数据类型（在很多其他语言中只能使用数值），并且每个`case`的值不一定是常量，可以是变量，甚至是表达式。

switch对`case`进行匹配时，遵循的是`===`严格相等。

# 函数

## 理解参数

**首先说明我的观点，不推荐使用`arguments`！！！**

ECMAScript中的函数参数是用一个数组来表示的，可以通过`arguments`对象来访问这个数组，`arguments`是一个类数组对象。

关于`arguments`和`命名参数`之间是如何相互影响的，《JavaScript高级程序设计》与《深入理解ES6》的说法有些矛盾，我在谷歌浏览器中简单的试了一下，他们之间的同步关系好像是双向的。

## 没有重载

ECMAScript中的函数没有重载，如果声明了多个同名函数，后面的会覆盖前面的。