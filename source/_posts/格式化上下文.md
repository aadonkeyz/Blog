---
title: 格式化上下文
categories:
    - HTML&CSS
abbrlink: 451e216f
date: 2019-06-16 00:00:44
---

格式化上下文（Formatting context）是W3C CSS2.1规范中的一个概念。它是页面中的一块渲染区域，并且有一套渲染规则，它决定了其子元素将如何定位，以及和其他元素的关系和相互作用

# BFC

块级格式化上下文（Block formatting context，简称BFC）是一个独立的渲染区域，它规定了内部block-level box如何布局，并且内部block-level box的布局丝毫不受BFC外部区域的影响

## BFC形成条件

{% note info %}
下面是形成BFC的条件，满足任意一条即可
- 根元素，即`<html>`
- `float`的值不为`none`
- `overflow`的不值为`visible`
- `display`的值为`table-cell`、`table-caption`或`line-block`
- `position`的值为`absolute`或`fixed`
{% endnote %}

## BFC布局规则

{% note info %}
- 内部block-level box会在垂直方向，一个接一个地放置
- block-level box垂直方向的距离由`margin`决定。属于同一个BFC的两个相邻block-level box会出现垂直外边距重叠，而不同BFC的则不会
- 每个盒模型的`margin-box`的左边，与包含块的`border-box`的左边相接触（对于从左往右的格式化，否则相反）。即使存在浮动也是如此
- BFC的区域不会与浮动元素重叠
- BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素，反之也是如此
- 计算BFC的高度时，浮动元素也参与计算
{% endnote %}

## BFC作用及原理
